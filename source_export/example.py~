import VanRoosbrockEg
from mpdbase import *
import numpy as np

N = 100
EPSILON = 1e-3

model = VanRoosbrockEg.MPD_VanRoosbrockEg(np.linspace(0, 0.5, N))

state = MPDState(model)

names = (model.constant_quantity_decls_keys)
for s in names:
    print(model.quantity_decls[s])
    print(model.quantity_decls[s].is_field)

# constants
state.temperature = 200.0
state.elementary_charge = 1.60217662e-19
state.electric_constant = 8.85418782e-12
state.band_energy = np.repeat(state.elementary_charge * 5.5, N) #5 e.v
state.band_density = np.repeat(10e25 * state.elementary_charge * 1e6, N)
state.boltzmann_constant = 1.38064852e-23

# initial conditions
state.doping_profile = np.repeat(1e-21, N)
state.relative_permittivity = 1.0
state.absolute_permittivity = model['permitivity_law'].absolute_permittivity(state)

state.electron_mobility = 1e-4 # [m^2 / Vs]



print(model)
