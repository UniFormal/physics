namespace http://mathhub.info/MitM/Models ❚

import qe http://mathhub.info/MitM/Foundation/Units ❚
import fnd http://mathhub.info/MitM/Foundation ❚

theory MPD : ur:?LF =
	include qe:?QEBase
	include qe:?Field


theory Quantities =
  include qe:?QEBase
	include qe:?Field
	include ur:?LF

	electric_constant: QE ElectricalPermittivity # ε_0 role Constant
	elementary_charge: QE ElectricCharge # q_e role Constant
	
	boltzmann_constant: QE (Energy /' Temperature) # k_b role Constant 
  temperature: QE Temperature # T role Constant

	band_density: field VolumeDensity # N_c role Constant
	band_energy: field Energy # E_c role Constant 	
  
  relative_permittivity: QE DimNone # ε_r
	absolute_permittivity: QE ElectricalPermittivity # ε_s
  
  current_density: field ElectricCurrentDensity # j_n
  
  electric_field: field ElectricField # E
  electrostatic_potential: field Voltage # Ψ
  quasifermi_potential: field Voltage # φ_n
  displacement: field (ElectricCharge /' (Length *' Length)) # D
  charge_density: field (ElectricCharge  /' (Length *' Length *' Length)) # ρ
  
  electron_density: field VolumeDensity # n
  doping_profile: field VolumeDensity # C
  
  electron_mobility : QE (Area /' (ElectricPotential *' Time)) ❘ # μ_n ❙
  


theory VanRoosbrockEg : ?MPD =
	include ?Quantities
	include qe:?Field
	include qe:?QEBase
	include fnd:?RealLiterals

  
	permitivity_law: ⊦ ε_s ≐ ε_0 ⋅ ε_r
	permitivity_law_rule1:  ⊦ ε_r ≐ ε_s /  ε_0
	
	gauss_law: {x: space} ⊦ ρ ≐ Δ. D
	
	charge_density_law: ⊦ ρ ≐ q_e  .* (C  .-  n)
	charge_density_law_rule1: ⊦ C ≐ ρ ./ q_e .+ n
	charge_density_law_rule2: ⊦ n ≐ C .- (ρ ./ q_e)

	displacement_law: ⊦ D ≐ ε_s .* E
	displacement_law_rule1: ⊦ E ≐ D ./ ε_s
	displacement_law_rule2: ⊦ ε_s .≐ D ./ E
	
	electric_field_law: ⊦ E ≐ .~ (Δ. Ψ)

	electron_density: ⊦ n ≐ N_c .* (exp. ((q_e .* (Ψ .- φ_n) .- E_c) ./ (k_b .* T)))
	electron_density_rule1: ⊦ Ψ ≐ (ln. (n ./ N_c) .* (k_b .* T) .+ E_c) ./ q_e .+ φ_n
	electron_density_rule2: ⊦ φ_n ≐ Ψ .- ((ln. (n ./ N_c) .* (k_b .* T) .+ E_c) ./ q_e)
	
	electron_current: ⊦ j_n ≐ .~ (q_e .* μ_n .* n .* (Δ. φ_n))
	
	electron_continuity_eqn: {zero} ⊦ (Δ. j_n) ≐ zero role Condition
	


	